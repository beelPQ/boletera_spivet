(()=>{let e=window.location.origin,t=async(e,t,a)=>{let r=[];r="GET"==t?{method:"GET"}:{method:"POST",body:a};let c=await fetch(e,r);return await c.json()},a=a=>{let r=new FormData;r.append("method","getCouseDetail"),r.append("code",a),t("/modules/mod_detail_course/tmpl/model/courseDetail.php","POST",r).then(t=>{if(t.status){let a=t.data;if(document.querySelector("#titleCourse").innerText=a.name,document.querySelector("#dateCourse").innerText=a.fecha,document.querySelector("#durationTime").innerText=a.timeDuration,document.querySelector("#costPayment").innerText=`MXN $${a.preciomxn}`,document.querySelector("#modalityType").innerText=a.modality,""!=a.imgBackgroudHead){if(a.imgBackgroudHead.includes(",")){let r=a.imgBackgroudHead.split(",");document.querySelector("#imageBackgroudHead").style.backgroundImage=`url(${e}${r[0]})`}else document.querySelector("#imageBackgroudHead").style.backgroundImage=`url(${e}${a.imgBackgroudHead})`}else document.querySelector("#imageBackgroudHead").style.backgroundImage=`url(${e}/images/common/banner_aux.png)`;if(document.querySelector("#descriptCourse").innerHTML=a.description,document.querySelector("#objCourse").innerHTML=a.objetivo,""!=a.imgTeacher){if(a.imgTeacher.includes(",")){let c=a.imgTeacher.split(",");document.querySelector(".image-teacher").style.backgroundImage=`url(${e}${c[0]})`}else document.querySelector(".image-teacher").style.backgroundImage=`url(${e}${a.imgTeacher})`}else document.querySelector(".image-teacher").style.backgroundImage=`url(${e}/images/common/perfil_aux.png)`;document.querySelector(".name-teacher-course").innerText=a.impartidopor;let l=document.querySelector("#btnAddCar");if(l.dataset.code=a.code,l.dataset.name=a.name,l.dataset.pricemxn=a.preciomxn,l.dataset.modality=a.modality,l.dataset.priceusd=0,0==a.stock&&(l.setAttribute("disabled","false"),l.classList.remove("btn-add-car"),l.classList.add("btn-add-car-disabled")),Date.parse(a.dateInitCourse)<Date.parse(a.currentDate)&&(l.setAttribute("disabled","false"),l.classList.remove("btn-add-car"),l.classList.add("btn-add-car-disabled"),l.innerHTML="NO HABILITADO"),localStorage.getItem("cart_products")){let i=0,d=JSON.parse(localStorage.getItem("cart_products")),o=document.querySelector("#codeCourse").value;d.forEach(e=>{e.code==o&&(i=1)}),1==i&&(l.classList.add("btn-add-car-disabled"),l.classList.remove("btn-add-car"),l.setAttribute("disabled","false"),l.innerHTML="AGREGADO")}let s="";"no_data"!==a.whats&&(s+=`
                    <div class="icons-info flex">
                        <div class="icon">
                            <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.504 0h-.008C7.846 0 0 7.849 0 17.5a17.37 17.37 0 0 0 3.332 10.257L1.15 34.258l6.726-2.15A17.347 17.347 0 0 0 17.504 35C27.154 35 35 27.149 35 17.5 35 7.85 27.153 0 17.504 0zm10.183 24.712c-.422 1.192-2.098 2.181-3.434 2.47-.915.195-2.109.35-6.13-1.317-5.142-2.13-8.454-7.357-8.712-7.696-.248-.339-2.078-2.767-2.078-5.278 0-2.511 1.275-3.734 1.789-4.26.422-.43 1.12-.627 1.79-.627.216 0 .41.011.585.02.515.022.773.052 1.112.864.422 1.017 1.45 3.528 1.573 3.786.124.258.249.609.074.947-.164.35-.309.506-.567.803-.258.298-.503.525-.76.845-.237.277-.504.575-.207 1.09.298.502 1.326 2.18 2.84 3.527 1.953 1.74 3.537 2.295 4.104 2.532.422.175.925.133 1.233-.195.392-.422.875-1.122 1.368-1.811.35-.495.791-.556 1.255-.381.473.164 2.973 1.4 3.487 1.656.514.258.853.38.978.597.122.217.122 1.234-.3 2.428z" fill="#01002F"/>
                            </svg> 
                        </div>
                        <div class="text">
                            ${a.whats}
                        </div>
                    </div>    
                    `),"no_data"!==a.tel&&(s+=`
                    <div class="icons-info flex">
                        <div class="icon">
                            <svg width="29" height="29" viewBox="0 0 29 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="m21.94 18.252-2.426 1.363a1.533 1.533 0 0 1-1.832-.25l-8.096-8.077a1.526 1.526 0 0 1-.251-1.828L10.7 7.04a2.285 2.285 0 0 0-.377-2.743L6.689.671A2.295 2.295 0 0 0 4.188.174a2.295 2.295 0 0 0-.745.497l-1.65 1.645a6.1 6.1 0 0 0-.92 7.46l.828 1.377a47.923 47.923 0 0 0 17.337 16.93l.163.095c2.438 1.39 5.45.984 7.403-.962l1.724-1.72a2.288 2.288 0 0 0 0-3.238L24.69 18.63a2.296 2.296 0 0 0-2.75-.377z" fill="#01002F"/>
                            </svg> 
                        </div>
                        <div class="text">
                            ${a.tel}
                        </div>
                    </div> `),"no_data"!==a.email&&(s+=`
                    <div class="icons-info flex">
                        <div class="icon">
                            <svg width="35" height="35" viewBox="0 0 35 35" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M17.5 0C7.835 0 0 7.835 0 17.5S7.835 35 17.5 35 35 27.165 35 17.5 27.165 0 17.5 0zm-6.87 12.031h13.708c.727 0 .352.934-.044 1.172-.396.237-5.87 3.55-6.076 3.672a1.459 1.459 0 0 1-.734.182 1.444 1.444 0 0 1-.733-.182l-6.078-3.672c-.395-.238-.77-1.172-.044-1.172zm14.162 10.026c0 .383-.46.912-.81.912H11.018c-.35 0-.81-.529-.81-.912V15.41c0-.168-.003-.385.314-.2l6.229 3.673c.22.134.475.198.733.182.266 0 .459-.02.734-.182l6.26-3.672c.317-.186.314.033.314.2v6.647z" fill="#01002F"/>
                            </svg> 
                        </div>
                        <div class="text">
                            ${a.email}
                        </div>
                    </div> `),document.querySelector("#itemDatosTeacher").innerHTML=s;let n="";if("no_data"!==a.certificado){let _="";n=`
                    <span>CERTIFICADO POR:</span> <br>
                    <img src="${e}${_=a.certificado.includes(",")?a.certificado.split(",")[0]:a.certificado}" alt="" width="200" height="150">
                    `}document.querySelector(".content-certify").innerHTML=n}else console.error(t)}).catch(e=>{console.error(e)})};if(document.querySelector("#codeCourse")){let r=document.querySelector("#codeCourse").value;a(r)}let c=document.querySelector("#btnShareNoti");c.addEventListener("click",e=>{document.querySelector(".content-shared").classList.remove("desactive"),document.querySelector(".content-shared").classList.add("active")});let l=document.querySelector("#button-closed");l.addEventListener("click",e=>{document.querySelector(".content-shared").classList.remove("active"),document.querySelector(".content-shared").classList.add("desactive")});let i=document.querySelector("#btnCopyHash");i.addEventListener("click",e=>{console.log("copiado");let t=document.getElementById("txtInputHash");t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")});let d=document.querySelector("#btnAddCar");d.addEventListener("click",t=>{let a=t.target.dataset;if(localStorage.setItem("otherView",!0),localStorage.getItem("cart_products")){let r=JSON.parse(localStorage.getItem("cart_products")),c=document.querySelector("#codeCourse").value,l=!1;if(r.forEach(e=>{e.code==c&&(l=!0)}),l)location.href=`${e}/index.php/carrito-de-capacitaciones`;else if("Mixto"==a.modality){document.querySelector("#btnModality").click(),document.querySelector(".modal-backdrop").style.zIndex="0",document.querySelector(".modal-backdrop").style.background="transparent",document.querySelector(".main-backimage").style.zIndex="1",document.querySelector("#staticBackdrop").style.background="#0000009e",document.querySelector("#headerContent").style.zIndex="1";let i=document.querySelector("#btnSelectionModality");i.dataset.code=a.code,i.dataset.name=a.name,i.dataset.pricemxn=a.pricemxn,i.dataset.priceusd=a.priceusd,i.dataset.modality="Virtual"}else{let d=a.pricemxn,o=/,/gi;d=parseFloat(d=d.replace(o,""));let s=parseFloat(localStorage.getItem("amount"));s+=d,localStorage.setItem("amount",s);let n=parseFloat(localStorage.getItem("subtotal"));n+=d,localStorage.setItem("subtotal",n);let _=JSON.parse(localStorage.getItem("cart_products")),$={code:a.code,name:a.name,pricemxn:d,priceusd:0,typeItem:"Product",modality:a.modality};_.push($),localStorage.setItem("cart_products",JSON.stringify(_)),location.href=`${e}/index.php/carrito-de-capacitaciones`}}});let o=document.querySelector("#btnSelectionModality");o.addEventListener("click",t=>{let a=t.target.dataset,r=a.pricemxn,c=/,/gi;r=parseFloat(r=r.replace(c,""));let l=parseFloat(localStorage.getItem("amount"));l+=r,localStorage.setItem("amount",l);let i=parseFloat(localStorage.getItem("subtotal"));i+=r,localStorage.setItem("subtotal",i);let d=JSON.parse(localStorage.getItem("cart_products")),o={code:a.code,name:a.name,pricemxn:r,priceusd:0,typeItem:"Product",modality:a.modality};d.push(o),localStorage.setItem("cart_products",JSON.stringify(d)),location.href=`${e}/index.php/carrito-de-capacitaciones`});let s=document.querySelector("#btnClosedModal");s.addEventListener("click",e=>{document.querySelector("#headerContent").style.zIndex="10"});let n=document.querySelector("#btnCerrarModal");n.addEventListener("click",e=>{document.querySelector("#headerContent").style.zIndex="10"}),document.addEventListener("change",e=>{let t=document.querySelector("#btnSelectionModality");t.dataset.modality=e.target.value})})();