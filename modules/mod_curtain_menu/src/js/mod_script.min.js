(()=>{"use strict";let e=async(e,t,s,l=[])=>{let a={},i;"GET"==t?a={method:"GET",redirect:"follow"}:"POST"==t&&(a={method:"POST",body:l});let r=await fetch(e,a);return"json"==s?await r.json():await r.text()},t=(e,t,l,a,i=0)=>{0==i&&s(e),t.forEach(t=>{t.classList.contains("show")&&(l.classList.add("active"),a.classList.add("mod-menu-show"),e.classList.add("show_submenu"))})},s=e=>{let t=e.querySelectorAll(".mod-menu li");t.forEach(e=>e.classList.remove("active"))},l=(t,s)=>{e(`/modules/mod_curtain_menu/controllers/CurtainMenuController.php?typeProduct=${s}`,"GET","json").then(e=>{let{status:l,message:i,description:r,data:c}=e;if(l){let n=0,d=t.parentElement;d.classList.add("deeper","parent","parent_list"),Reflect.has(d.dataset,"itemid")&&(n=d.dataset.itemid);let o=document.createElement("ul");o.classList.add("mod-menu__sub","list-unstyled","small"),o.id=`collapseSubmenu${n}`,o.innerHTML="",c.forEach(e=>{let{category:t}=e,l=[];if(Reflect.has(e,"services")&&(l=e.services),Reflect.has(e,"courses")&&(l=e.courses),l.length>0){let a=document.createElement("li");a.classList.add("nav-item","deeper","parent");let i=document.createElement("a");i.classList.add("disablelink"),i.href="#",i.innerHTML=t,a.appendChild(i);let r=document.createElement("ul");r.classList.add("mod-menu__sub","list-unstyled","small","show"),l.forEach(e=>{let{id:t,name:l}=e,a=l.replace(/\s+/g,"_"),i=document.createElement("li");i.classList.add("nav-item");let c=document.createElement("a");"services"==s&&(c.href=`/oferta/?oferta=${e.modality}-${e.number}-${a}`),c.innerHTML=l,i.appendChild(c),r.appendChild(i)}),a.appendChild(r),o.appendChild(a)}}),d.appendChild(o),t.addEventListener("click",()=>a(d,t,n)),t.click()}}).catch(e=>{console.log(e)})},a=(e,t,s)=>{if(s>0){let l=e.querySelector(`#collapseSubmenu${s}`);l.classList.contains("show")?(t.classList.remove("click"),l.classList.remove("show")):(t.classList.add("click"),l.classList.add("show"));let a=l.querySelectorAll("ul.mod-menu__sub.list-unstyled.small");a.forEach(e=>{e.classList.add("showChild")})}},i=e=>{let t=e.querySelectorAll("ul.menu__sub__item");t.forEach(t=>{t.classList.contains("primary")||e.removeChild(t)});let s=e.querySelector("ul.primary"),i=s.querySelectorAll("li");i.forEach(e=>{if(e.classList.contains("parent")){let t=0;if(Reflect.has(e.dataset,"itemid")&&(t=e.dataset.itemid),""==e.children[0].href){e.classList.add("parent_list");let s=e.children[0];s.classList.add("clssParentLink"),s.addEventListener("click",()=>a(e,s,t))}}else{let i=e.querySelector("a");""==i.href&&(i.classList.add("clssParentLink"),i.classList.contains("servicesP")&&l(i,"services"))}})},r=e=>{let l=e.target,a=l;e.preventDefault(),"A"==l.tagName&&(a=l.parentElement);let i=a.parentElement,r=i.parentElement;if(i.classList.contains("view_submenu")||s(r),Reflect.has(a.dataset,"itemid")){let c=r.querySelectorAll(".menu__sub__item"),n=a.parentElement;if(a.classList.contains("active")){t(r,c,a,n,1);return}r.classList.remove("show_submenu");let d=a.dataset.itemid;n.classList.remove("mod-menu-show"),c.forEach(e=>{Reflect.has(e.dataset,"parentid")&&(e.dataset.parentid==d?(e.classList.toggle("show"),e.classList.remove("hide")):(e.classList.remove("show"),e.classList.toggle("hide")))}),t(r,c,a,n)}},c=e=>{let t=e.querySelectorAll("li");t.forEach((e,t)=>{let s=e.querySelector("a");if(""!=s.className.trim()){let l=s.className.split("|");2==l.length&&(""!=l[1].trim()?(s.href=l[1],s.setAttribute("target","_blank")):(s.href="#",s.classList.add("disablelink")));let a=s.className;if(a.includes("co_parent")){let i=s.parentElement;i.parentElement.classList.add("primary"),s.removeAttribute("href")}else a.includes("option_movil")||s.removeAttribute("class")}else s.href.includes("#")&&s.classList.add("disablelink")})};window.addEventListener("load",function(e){setTimeout(()=>{location.pathname.includes("carrito-de-capacitaciones")&&document.querySelector("#headerContent").classList.add("incar");let e=document.querySelector("#headerContent"),t=e.querySelector("#to_pqoverlay");if(t.querySelector(".mod-menu")){if(t.classList.add("pqoverlay"),t.querySelector("#checkMenu")){let l=t.querySelector(".hamburger"),a=t.querySelector("#checkMenu"),n=t.querySelector("#pqOverlayScreen");a.addEventListener("click",()=>{n.classList.contains("show")?(n.classList.replace("show","hide"),l.classList.replace("white","blue")):n.classList.contains("hide")?(n.classList.replace("hide","show"),l.classList.replace("blue","white")):(n.classList.toggle("show"),l.classList.toggle("white"));let e=n.querySelector(".mod-menu"),t=n.querySelectorAll(".mod-menu__sub");n.querySelectorAll(".clssParentLink"),e.classList.contains("view_submenu")?(n.classList.add("show_submenu"),e.classList.add("mod-menu-show"),t.length>0&&t[0].classList.add("show")):(n.classList.remove("show_submenu"),s(n),e.classList.remove("mod-menu-show"),t.length>0&&t.forEach(e=>e.classList.remove("show"))),document.body.classList.toggle("no_scroll")});let d=n.querySelector(".mod-menu"),o=d.querySelectorAll("li");if(o.forEach(e=>{e.childElementCount>1&&(e.querySelector("a").href="#",e.addEventListener("click",r))}),t.querySelector(".navbar-brand a img")&&dataAddMenu.getAttribute("data-addlogosite")){let m=t.querySelector(".navbar-brand a img"),u=dataAddMenu.getAttribute("data-addlogosite");if(1==u){let h="";""!=m.src&&(h=m.src);let p=d.querySelector("li:first-child"),L=document.createElement("li");L.classList.add("img_logo");let y=document.createElement("img");y.src=h,y.classList.add("logosite"),L.appendChild(y),L.addEventListener("click",()=>location.href=location.origin),d.insertBefore(L,p)}}let f=document.createElement("div");f.classList.add("line__spacer");let E=dataAddMenu.getAttribute("data-iconmenu");if(""!=E){let b=document.createElement("img"),g=E;"/"!=E.charAt(0)&&(g=`/${E}`),b.src=g,b.alt="Spacer men\xfa",b.setAttribute("width","30"),f.appendChild(b)}let v=document.createElement("div");v.classList.add("line"),f.appendChild(v),n.appendChild(f);let S=n.querySelectorAll(".mod-menu__sub");if(S.length>0?(S.forEach(e=>{e.classList.replace("list-unstyled","menu__sub__item"),c(e);let t=e.cloneNode(!0);n.appendChild(t),t.removeAttribute("id");let s=e.parentElement;s.removeChild(e)}),i(n)):d.classList.add("no__submenu"),dataAddMenu.getAttribute("data-backimage")){let q=dataAddMenu.getAttribute("data-backimage");if(""==q)return;let w=q;"/"!=E.charAt(0)&&(w=`/${q}`);let A=document.createElement("figure"),C=document.createElement("img");if(C.src=w,A.appendChild(C),dataAddMenu.getAttribute("data-sponsor")){let $=dataAddMenu.getAttribute("data-sponsor"),k=$;"/"!=E.charAt(0)&&(k=`/${$}`);let T=document.createElement("img");T.src=k,T.classList.add("img_sponsor"),A.appendChild(T)}n.appendChild(A)}}else{let P=t.querySelector(".mod-menu"),_=P.querySelectorAll("li");_.forEach(e=>{e.childElementCount>1&&e.removeChild(e.children[0])})}setTimeout(()=>{document.querySelector(".spinner")&&(document.querySelector(".spinner").style.display="none")},1e3)}},30)})})();