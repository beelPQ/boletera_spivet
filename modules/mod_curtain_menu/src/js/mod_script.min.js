(()=>{"use strict";let e=async(e,t,l,s=[])=>{let a={},r;"GET"==t?a={method:"GET",redirect:"follow"}:"POST"==t&&(a={method:"POST",body:s});let i=await fetch(e,a);return"json"==l?await i.json():await i.text()},t=e=>{let t=e.querySelectorAll(".mod-menu li");t.forEach(e=>e.classList.remove("active"))},l=(t,l)=>{e(`/modules/mod_curtain_menu/controllers/CurtainMenuController.php?typeProduct=${l}`,"GET","json").then(e=>{let{status:a,message:r,description:i,data:c}=e;if(a){let d=0,n=t.parentElement;n.classList.add("deeper","parent","parent_list"),Reflect.has(n.dataset,"itemid")&&(d=n.dataset.itemid);let o=document.createElement("ul");o.classList.add("mod-menu__sub","list-unstyled","small"),o.id=`collapseSubmenu${d}`,o.innerHTML="",c.forEach(e=>{let{category:t}=e,s=[];if(Reflect.has(e,"services")&&(s=e.services),Reflect.has(e,"courses")&&(s=e.courses),s.length>0){let a=document.createElement("li");a.classList.add("nav-item","deeper","parent");let r=document.createElement("a");r.classList.add("disablelink"),r.href="#",r.innerHTML=t,a.appendChild(r);let i=document.createElement("ul");i.classList.add("mod-menu__sub","list-unstyled","small","show"),s.forEach(e=>{let{id:t,name:s}=e,a=s.replace(/\s+/g,"_"),r=document.createElement("li");r.classList.add("nav-item");let c=document.createElement("a");"services"==l&&(c.href=`/oferta/?oferta=${e.modality}-${e.number}-${a}`),c.innerHTML=s,r.appendChild(c),i.appendChild(r)}),a.appendChild(i),o.appendChild(a)}}),n.appendChild(o),t.addEventListener("click",()=>s(n,t,d)),t.click()}}).catch(e=>{console.log(e)})},s=(e,t,l)=>{if(l>0){let s=e.querySelector(`#collapseSubmenu${l}`);s.classList.contains("show")?(t.classList.remove("click"),s.classList.remove("show")):(t.classList.add("click"),s.classList.add("show"));let a=s.querySelectorAll("ul.mod-menu__sub.list-unstyled.small");a.forEach(e=>{e.classList.add("showChild")})}},a=e=>{let t=e.querySelectorAll("ul.menu__sub__item");t.forEach(t=>{t.classList.contains("primary")||e.removeChild(t)});let a=e.querySelector("ul.primary"),r=a.querySelectorAll("li");r.forEach(e=>{if(e.classList.contains("parent")){let t=0;if(Reflect.has(e.dataset,"itemid")&&(t=e.dataset.itemid),""==e.children[0].href){e.classList.add("parent_list");let a=e.children[0];a.classList.add("clssParentLink"),a.addEventListener("click",()=>s(e,a,t))}}else{let r=e.querySelector("a");""==r.href&&(r.classList.add("clssParentLink"),r.classList.contains("servicesP")&&l(r,"services"))}})},r=e=>{let t=e.querySelectorAll("li");t.forEach((e,t)=>{let l=e.querySelector("a");if(""!=l.className.trim()){let s=l.className.split("|");2==s.length&&(""!=s[1].trim()?(l.href=s[1],l.setAttribute("target","_blank")):(l.href="#",l.classList.add("disablelink")));let a=l.className;if(a.includes("co_parent")){let r=l.parentElement;r.parentElement.classList.add("primary"),l.removeAttribute("href")}else a.includes("option_movil")||l.removeAttribute("class")}else l.href.includes("#")&&l.classList.add("disablelink")})};window.addEventListener("load",function(e){setTimeout(()=>{location.pathname.includes("carrito-de-capacitaciones")&&document.querySelector("#headerContent").classList.add("incar");let e=document.querySelector("#headerContent"),l=e.querySelector("#to_pqoverlay");if(l.querySelector(".mod-menu")){if(l.classList.add("pqoverlay"),l.querySelector("#checkMenu")){let s=l.querySelector(".hamburger"),i=l.querySelector("#checkMenu"),c=l.querySelector("#pqOverlayScreen");i.addEventListener("click",()=>{c.classList.contains("show")?(c.classList.replace("show","hide"),s.classList.replace("white","blue")):c.classList.contains("hide")?(c.classList.replace("hide","show"),s.classList.replace("blue","white")):(c.classList.toggle("show"),s.classList.toggle("white"));let e=c.querySelector(".mod-menu"),l=c.querySelectorAll(".mod-menu__sub");c.querySelectorAll(".clssParentLink"),e.classList.contains("view_submenu")?(c.classList.add("show_submenu"),e.classList.add("mod-menu-show"),l.length>0&&l[0].classList.add("show")):(c.classList.remove("show_submenu"),t(c),e.classList.remove("mod-menu-show"),l.length>0&&l.forEach(e=>e.classList.remove("show"))),document.body.classList.toggle("no_scroll")});let d=c.querySelector(".mod-menu"),n=d.querySelectorAll("li");if(n.forEach(e=>{e.childElementCount>1&&(e.querySelector("a").href="#");let t=e.innerText;if(t.toUpperCase().includes("INICIO SESI\xd3N COMPRA")||t.toUpperCase().includes("INICIO")){let l=e.querySelector("a");localStorage.setItem("inlogin",l.href),d.removeChild(e)}if(t.toUpperCase().includes("MI PERFIL")||t.toUpperCase().includes("PERFIL")){let s=e.querySelector("a");localStorage.setItem("user_profile",s.href)}(t.toUpperCase().includes("CERRAR SESI\xd3N")||t.toUpperCase().includes("CERRAR"))&&e.addEventListener("click",()=>{document.body.removeAttribute("data-id"),document.body.removeAttribute("data-name"),document.body.removeAttribute("data-email"),localStorage.clear(),sessionStorage.clear()})}),l.querySelector(".navbar-brand a img")&&dataAddMenu.getAttribute("data-addlogosite")){let o=l.querySelector(".navbar-brand a img"),u=dataAddMenu.getAttribute("data-addlogosite");if(1==u){let m="";""!=o.src&&(m=o.src);let h=d.querySelector("li:first-child"),p=document.createElement("li");p.classList.add("img_logo");let L=document.createElement("img");L.src=m,L.classList.add("logosite"),p.appendChild(L),p.addEventListener("click",()=>location.href=location.origin),d.insertBefore(p,h)}}let y=document.createElement("div");y.classList.add("line__spacer");let f=dataAddMenu.getAttribute("data-iconmenu");if(""!=f){let b=document.createElement("img"),E=f;"/"!=f.charAt(0)&&(E=`/${f}`),b.src=E,b.alt="Spacer men\xfa",b.setAttribute("width","30"),y.appendChild(b)}let S=document.createElement("div");S.classList.add("line"),y.appendChild(S),c.appendChild(y);let g=c.querySelectorAll(".mod-menu__sub");if(g.length>0?(g.forEach(e=>{e.classList.replace("list-unstyled","menu__sub__item"),r(e);let t=e.cloneNode(!0);c.appendChild(t),t.removeAttribute("id");let l=e.parentElement;l.removeChild(e)}),a(c)):d.classList.add("no__submenu"),dataAddMenu.getAttribute("data-backimage")){let v=dataAddMenu.getAttribute("data-backimage");if(""==v)return;let C=v;"/"!=f.charAt(0)&&(C=`/${v}`);let q=document.createElement("figure"),A=document.createElement("img");if(A.src=C,q.appendChild(A),dataAddMenu.getAttribute("data-sponsor")){let w=dataAddMenu.getAttribute("data-sponsor"),k=w;"/"!=f.charAt(0)&&(k=`/${w}`);let $=document.createElement("img");$.src=k,$.classList.add("img_sponsor"),q.appendChild($)}c.appendChild(q)}}else{let I=l.querySelector(".mod-menu"),P=I.querySelectorAll("li");P.forEach(e=>{e.childElementCount>1&&e.removeChild(e.children[0])})}}},30)})})();